{"ast":null,"code":"var _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\results\\\\candidate\\\\CandidateResultByRegistrationNo.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Form from '../../styles/Form';\nimport { MinimStyledPage } from '../../styles/StyledPage';\nimport Error from '../../ErrorMessage';\nimport styled from 'styled-components';\nimport Router from 'next/router';\nimport debounce from 'lodash.debounce';\nimport { ApolloConsumer } from 'react-apollo';\nimport { getRegistrationIDFromRegNumberQuery } from '../../queries&Mutations&Functions/Queries';\nconst StyledDivision = styled.div.withConfig({\n  displayName: \"CandidateResultByRegistrationNo__StyledDivision\",\n  componentId: \"sc-1vbytc6-0\"\n})([\"display:grid;grid-template-columns:1fr;text-align:center;margin:0 auto;\"]);\nconst CenterSelect = styled.div.withConfig({\n  displayName: \"CandidateResultByRegistrationNo__CenterSelect\",\n  componentId: \"sc-1vbytc6-1\"\n})([\"display:block;text-align:center;margin:0 auto;\"]);\n\nclass CandidateResultByRegistrationNo extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      id: \"\",\n      loading: \"false\"\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        loading: true\n      });\n      const {\n        name,\n        value,\n        type\n      } = e.target;\n      const val = type === 'number' ? parseInt(value) : value;\n      this.setState({\n        [name]: val\n      });\n    });\n\n    _defineProperty(this, \"resetForm\", () => {\n      this.setState({\n        candRegistrationNumber: ''\n      });\n    });\n\n    _defineProperty(this, \"makeCandVariableObject\", candCodeValue => {\n      const storedCandidate = {\n        candRegistrationNumber: `${candCodeValue}`\n      };\n      return storedCandidate;\n    });\n\n    _defineProperty(this, \"onChange\", debounce(async (e, client) => {\n      console.log('seaching');\n      const res = await client.query({\n        query: getRegistrationIDFromRegNumberQuery,\n        variables: {\n          candRegistrationNumber: e.target.value\n        }\n      });\n      console.log(res.data);\n\n      const getCandNumber = _objectSpread({}, res.data.candidateRegistrationNumber);\n\n      this.setState({\n        id: getCandNumber.id,\n        loading: false\n      });\n    }, 400));\n  }\n\n  render() {\n    const {\n      id\n    } = this.state;\n    id && Router.push({\n      pathname: '/show/results/candResults',\n      query: {\n        id\n      }\n    });\n    return __jsx(MinimStyledPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, __jsx(Form, {\n      onSubmit: async e => {\n        e.preventDefault();\n        this.resetForm();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"R\\xE9sultats D'un Candidat\"), __jsx(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, __jsx(StyledDivision, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, __jsx(CenterSelect, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, __jsx(ApolloConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }, client => __jsx(\"input\", {\n      type: \"search\",\n      placeholder: \"Num\\xE9ro d'Inscription du Candidat\",\n      onChange: e => {\n        e.persist();\n        this.onChange(e, client);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    })))))));\n  }\n\n}\n\nexport default CandidateResultByRegistrationNo;","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/results/candidate/CandidateResultByRegistrationNo.jsx"],"names":["React","Component","Form","MinimStyledPage","Error","styled","Router","debounce","ApolloConsumer","getRegistrationIDFromRegNumberQuery","StyledDivision","div","CenterSelect","CandidateResultByRegistrationNo","id","loading","e","setState","name","value","type","target","val","parseInt","candRegistrationNumber","candCodeValue","storedCandidate","client","console","log","res","query","variables","data","getCandNumber","candidateRegistrationNumber","render","state","push","pathname","preventDefault","resetForm","persist","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Form from '../../styles/Form';\r\nimport { MinimStyledPage } from '../../styles/StyledPage';\r\nimport Error from '../../ErrorMessage';\r\nimport styled from 'styled-components';\r\nimport Router from 'next/router'\r\nimport debounce from 'lodash.debounce'\r\nimport { ApolloConsumer } from 'react-apollo'\r\nimport { getRegistrationIDFromRegNumberQuery } from '../../queries&Mutations&Functions/Queries';\r\n\r\nconst StyledDivision = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nconst CenterSelect = styled.div`\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nclass CandidateResultByRegistrationNo extends Component {\r\n    state = {\r\n        id: \"\",\r\n        loading: \"false\"\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ loading: true })\r\n        const { name, value, type } = e.target;\r\n        const val = type === 'number'\r\n            ? parseInt(value)\r\n            : value;\r\n        this.setState({ [name]: val });\r\n    };\r\n\r\n    resetForm = () => {\r\n        this.setState({ candRegistrationNumber: '' });\r\n    };\r\n\r\n    makeCandVariableObject = (candCodeValue) => {\r\n        const storedCandidate = {\r\n            candRegistrationNumber: `${candCodeValue}`\r\n        };\r\n        return storedCandidate;\r\n    };\r\n    onChange = debounce(async (e, client) => {\r\n        console.log('seaching')\r\n        const res = await client.query({\r\n            query: getRegistrationIDFromRegNumberQuery,\r\n            variables: { candRegistrationNumber: e.target.value }\r\n        })\r\n        console.log(res.data)\r\n        const getCandNumber = { ...res.data.candidateRegistrationNumber };\r\n        this.setState({\r\n            id: getCandNumber.id,\r\n            loading: false,\r\n        })\r\n    }, 400)\r\n    render() {\r\n        const { id } = this.state;\r\n        id && Router.push({\r\n            pathname: '/show/results/candResults',\r\n            query: { id },\r\n\r\n        });\r\n        return (\r\n            <MinimStyledPage >\r\n                <Form\r\n                    onSubmit={async (e) => {\r\n                        e.preventDefault();\r\n                        this.resetForm();\r\n                    }}>\r\n                    <h4 >\r\n                        Résultats D'un Candidat\r\n                   </h4>\r\n                    <fieldset >\r\n                        <StyledDivision >\r\n                            <CenterSelect>\r\n                                <ApolloConsumer>\r\n                                    {(client) => (\r\n\r\n                                        <input\r\n                                            type=\"search\"\r\n                                            placeholder=\"Numéro d'Inscription du Candidat\"\r\n                                            onChange={(e) => {\r\n                                                e.persist()\r\n                                                this.onChange(e, client)\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                </ApolloConsumer>\r\n                            </CenterSelect>\r\n                        </StyledDivision>\r\n                    </fieldset>\r\n                </Form>\r\n            </MinimStyledPage>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default CandidateResultByRegistrationNo;\r\n\r\n"]},"metadata":{},"sourceType":"module"}