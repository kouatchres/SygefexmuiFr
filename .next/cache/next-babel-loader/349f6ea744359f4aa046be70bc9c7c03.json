{"ast":null,"code":"var _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\score\\\\candidate\\\\CandidateResultByCandCode.jsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Form from '../../styles/Form';\nimport { MinimStyledPage } from '../../styles/StyledPage';\nimport Error from '../../ErrorMessage';\nimport styled from 'styled-components';\nimport Router from 'next/router';\nimport Downshift from 'downshift';\nimport debounce from 'lodash.debounce';\nimport { ApolloConsumer } from 'react-apollo';\nimport { getCandidateIDQuery } from '../../queries&Mutations&Functions/Queries';\nconst StyledDivision = styled.div.withConfig({\n  displayName: \"CandidateResultByCandCode__StyledDivision\",\n  componentId: \"sc-1gsm3i5-0\"\n})([\"display:grid;grid-template-columns:1fr;text-align:center;margin:0 auto;\"]);\nconst CenterSelect = styled.div.withConfig({\n  displayName: \"CandidateResultByCandCode__CenterSelect\",\n  componentId: \"sc-1gsm3i5-1\"\n})([\"display:block;text-align:center;margin:0 auto;\"]);\n\nclass CandidateDetailedResults extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      id: \"\",\n      loading: \"false\"\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        loading: true\n      });\n      const {\n        name,\n        value,\n        type\n      } = e.target;\n      const val = type === 'number' ? parseInt(value) : value;\n      this.setState({\n        [name]: val\n      });\n    });\n\n    _defineProperty(this, \"resetForm\", () => {\n      this.setState({\n        candCode: ''\n      });\n    });\n\n    _defineProperty(this, \"makeCandVariableObject\", candCodeValue => {\n      const storedCandidate = {\n        candCode: `${candCodeValue}`\n      };\n      return storedCandidate;\n    });\n\n    _defineProperty(this, \"onChange\", debounce(async (e, client) => {\n      console.log('seaching');\n      const res = await client.query({\n        query: getCandidateIDQuery,\n        variables: {\n          candCode: e.target.value\n        }\n      });\n      this.setState({\n        id: res.data.candidateCode.id,\n        loading: false\n      });\n    }, 400));\n  }\n\n  render() {\n    const {\n      id\n    } = this.state;\n    id && Router.push({\n      pathname: '/show/results/allCandResults',\n      query: {\n        id\n      }\n    });\n    return __jsx(MinimStyledPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, __jsx(Form, {\n      onSubmit: async e => {\n        e.preventDefault();\n        this.resetForm();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"V\\xE9rifier vos r\\xE9sultats\"), __jsx(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, __jsx(StyledDivision, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, __jsx(CenterSelect, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, __jsx(ApolloConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }, client => __jsx(\"input\", {\n      type: \"search\",\n      placeholder: \"Code Candidat\",\n      onChange: e => {\n        e.persist();\n        this.onChange(e, client);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    })))))));\n  }\n\n}\n\nexport default CandidateDetailedResults;\n{\n  /*\r\n  id = \"candCode\"\r\n  name = \"candCode\"\r\n  placeholder = \"Code Candidat\"\r\n  value={this.state.candCode} */\n}","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/score/candidate/CandidateResultByCandCode.jsx"],"names":["React","Component","Form","MinimStyledPage","Error","styled","Router","Downshift","debounce","ApolloConsumer","getCandidateIDQuery","StyledDivision","div","CenterSelect","CandidateDetailedResults","id","loading","e","setState","name","value","type","target","val","parseInt","candCode","candCodeValue","storedCandidate","client","console","log","res","query","variables","data","candidateCode","render","state","push","pathname","preventDefault","resetForm","persist","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Form from '../../styles/Form';\r\nimport { MinimStyledPage } from '../../styles/StyledPage';\r\nimport Error from '../../ErrorMessage';\r\nimport styled from 'styled-components';\r\nimport Router from 'next/router'\r\nimport Downshift from 'downshift'\r\nimport debounce from 'lodash.debounce'\r\nimport { ApolloConsumer } from 'react-apollo'\r\nimport { getCandidateIDQuery } from '../../queries&Mutations&Functions/Queries';\r\n\r\nconst StyledDivision = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nconst CenterSelect = styled.div`\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nclass CandidateDetailedResults extends Component {\r\n    state = {\r\n        id: \"\",\r\n        loading: \"false\"\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ loading: true })\r\n        const { name, value, type } = e.target;\r\n        const val = type === 'number'\r\n            ? parseInt(value)\r\n            : value;\r\n        this.setState({ [name]: val });\r\n    };\r\n\r\n    resetForm = () => {\r\n        this.setState({ candCode: '' });\r\n    };\r\n\r\n    makeCandVariableObject = (candCodeValue) => {\r\n        const storedCandidate = {\r\n            candCode: `${candCodeValue}`\r\n        };\r\n        return storedCandidate;\r\n    };\r\n    onChange = debounce(async (e, client) => {\r\n        console.log('seaching')\r\n        const res = await client.query({\r\n            query: getCandidateIDQuery,\r\n            variables: { candCode: e.target.value }\r\n        })\r\n        this.setState({\r\n            id: res.data.candidateCode.id,\r\n            loading: false,\r\n        })\r\n    }, 400)\r\n    render() {\r\n        const { id } = this.state;\r\n\r\n        id && Router.push({\r\n            pathname: '/show/results/allCandResults',\r\n            query: { id },\r\n\r\n        });\r\n        return (\r\n            <MinimStyledPage >\r\n                <Form\r\n                    onSubmit={async (e) => {\r\n                        e.preventDefault();\r\n                        this.resetForm();\r\n                    }}>\r\n                    <h4 >\r\n                        Vérifier vos résultats\r\n                   </h4>\r\n                    <fieldset >\r\n                        <StyledDivision >\r\n                            <CenterSelect>\r\n                                <ApolloConsumer>\r\n                                    {(client) => (\r\n\r\n                                        <input\r\n                                            type=\"search\"\r\n                                            placeholder=\"Code Candidat\"\r\n                                            onChange={(e) => {\r\n                                                e.persist()\r\n                                                this.onChange(e, client)\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                </ApolloConsumer>\r\n                            </CenterSelect>\r\n                        </StyledDivision>\r\n                    </fieldset>\r\n                </Form>\r\n            </MinimStyledPage>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default CandidateDetailedResults;\r\n\r\n{/*\r\nid = \"candCode\"\r\nname = \"candCode\"\r\nplaceholder = \"Code Candidat\"\r\n value={this.state.candCode} */ }"]},"metadata":{},"sourceType":"module"}