{"ast":null,"code":"import _regeneratorRuntime from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\results\\\\candidate\\\\CandidateResultByRegistrationNo.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Form from '../../styles/Form';\nimport { MinimStyledPage } from '../../styles/StyledPage';\nimport Error from '../../ErrorMessage';\nimport styled from 'styled-components';\nimport Router from 'next/router';\nimport debounce from 'lodash.debounce';\nimport { ApolloConsumer } from 'react-apollo';\nimport { getRegistrationIDFromRegNumberQuery } from '../../queries&Mutations&Functions/Queries';\nvar StyledDivision = styled.div.withConfig({\n  displayName: \"CandidateResultByRegistrationNo__StyledDivision\",\n  componentId: \"sc-1vbytc6-0\"\n})([\"display:grid;grid-template-columns:1fr;text-align:center;margin:0 auto;\"]);\n_c = StyledDivision;\nvar CenterSelect = styled.div.withConfig({\n  displayName: \"CandidateResultByRegistrationNo__CenterSelect\",\n  componentId: \"sc-1vbytc6-1\"\n})([\"display:block;text-align:center;margin:0 auto;\"]);\n_c2 = CenterSelect;\n\nvar CandidateResultByRegistrationNo = /*#__PURE__*/function (_Component) {\n  _inherits(CandidateResultByRegistrationNo, _Component);\n\n  var _super = _createSuper(CandidateResultByRegistrationNo);\n\n  function CandidateResultByRegistrationNo() {\n    var _this;\n\n    _classCallCheck(this, CandidateResultByRegistrationNo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      id: \"\",\n      loading: \"false\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState({\n        loading: true\n      });\n\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value,\n          type = _e$target.type;\n      var val = type === 'number' ? parseInt(value) : value;\n\n      _this.setState(_defineProperty({}, name, val));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetForm\", function () {\n      _this.setState({\n        candRegistrationNumber: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"makeCandVariableObject\", function (candCodeValue) {\n      var storedCandidate = {\n        candRegistrationNumber: \"\".concat(candCodeValue)\n      };\n      return storedCandidate;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", debounce( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, client) {\n        var res, getCandNumber;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('seaching');\n                _context.next = 3;\n                return client.query({\n                  query: getRegistrationIDFromRegNumberQuery,\n                  variables: {\n                    candRegistrationNumber: e.target.value\n                  }\n                });\n\n              case 3:\n                res = _context.sent;\n                console.log(res.data);\n                getCandNumber = _objectSpread({}, res.data.candidateRegistrationNumber);\n\n                _this.setState({\n                  id: getCandNumber.id,\n                  loading: false\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(), 400));\n\n    return _this;\n  }\n\n  _createClass(CandidateResultByRegistrationNo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var id = this.state.id;\n      id && Router.push({\n        pathname: '/show/results/candResults',\n        query: {\n          id: id\n        }\n      });\n      return __jsx(MinimStyledPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, __jsx(Form, {\n        onSubmit: /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    e.preventDefault();\n\n                    _this2.resetForm();\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function (_x3) {\n            return _ref2.apply(this, arguments);\n          };\n        }(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, __jsx(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, \"R\\xE9sultats D'un Candidat\"), __jsx(\"fieldset\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, __jsx(StyledDivision, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, __jsx(CenterSelect, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, __jsx(ApolloConsumer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }\n      }, function (client) {\n        return __jsx(\"input\", {\n          type: \"search\",\n          placeholder: \"Num\\xE9ro d'Inscription du Candidat\",\n          onChange: function onChange(e) {\n            e.persist();\n\n            _this2.onChange(e, client);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 41\n          }\n        });\n      }))))));\n    }\n  }]);\n\n  return CandidateResultByRegistrationNo;\n}(Component);\n\nexport default CandidateResultByRegistrationNo;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledDivision\");\n$RefreshReg$(_c2, \"CenterSelect\");","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/results/candidate/CandidateResultByRegistrationNo.jsx"],"names":["React","Component","Form","MinimStyledPage","Error","styled","Router","debounce","ApolloConsumer","getRegistrationIDFromRegNumberQuery","StyledDivision","div","CenterSelect","CandidateResultByRegistrationNo","id","loading","e","setState","target","name","value","type","val","parseInt","candRegistrationNumber","candCodeValue","storedCandidate","client","console","log","query","variables","res","data","getCandNumber","candidateRegistrationNumber","state","push","pathname","preventDefault","resetForm","persist","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Form from '../../styles/Form';\r\nimport { MinimStyledPage } from '../../styles/StyledPage';\r\nimport Error from '../../ErrorMessage';\r\nimport styled from 'styled-components';\r\nimport Router from 'next/router'\r\nimport debounce from 'lodash.debounce'\r\nimport { ApolloConsumer } from 'react-apollo'\r\nimport { getRegistrationIDFromRegNumberQuery } from '../../queries&Mutations&Functions/Queries';\r\n\r\nconst StyledDivision = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nconst CenterSelect = styled.div`\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\nclass CandidateResultByRegistrationNo extends Component {\r\n    state = {\r\n        id: \"\",\r\n        loading: \"false\"\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ loading: true })\r\n        const { name, value, type } = e.target;\r\n        const val = type === 'number'\r\n            ? parseInt(value)\r\n            : value;\r\n        this.setState({ [name]: val });\r\n    };\r\n\r\n    resetForm = () => {\r\n        this.setState({ candRegistrationNumber: '' });\r\n    };\r\n\r\n    makeCandVariableObject = (candCodeValue) => {\r\n        const storedCandidate = {\r\n            candRegistrationNumber: `${candCodeValue}`\r\n        };\r\n        return storedCandidate;\r\n    };\r\n    onChange = debounce(async (e, client) => {\r\n        console.log('seaching')\r\n        const res = await client.query({\r\n            query: getRegistrationIDFromRegNumberQuery,\r\n            variables: { candRegistrationNumber: e.target.value }\r\n        })\r\n        console.log(res.data)\r\n        const getCandNumber = { ...res.data.candidateRegistrationNumber };\r\n        this.setState({\r\n            id: getCandNumber.id,\r\n            loading: false,\r\n        })\r\n    }, 400)\r\n    render() {\r\n        const { id } = this.state;\r\n        id && Router.push({\r\n            pathname: '/show/results/candResults',\r\n            query: { id },\r\n\r\n        });\r\n        return (\r\n            <MinimStyledPage >\r\n                <Form\r\n                    onSubmit={async (e) => {\r\n                        e.preventDefault();\r\n                        this.resetForm();\r\n                    }}>\r\n                    <h4 >\r\n                        Résultats D'un Candidat\r\n                   </h4>\r\n                    <fieldset >\r\n                        <StyledDivision >\r\n                            <CenterSelect>\r\n                                <ApolloConsumer>\r\n                                    {(client) => (\r\n\r\n                                        <input\r\n                                            type=\"search\"\r\n                                            placeholder=\"Numéro d'Inscription du Candidat\"\r\n                                            onChange={(e) => {\r\n                                                e.persist()\r\n                                                this.onChange(e, client)\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                </ApolloConsumer>\r\n                            </CenterSelect>\r\n                        </StyledDivision>\r\n                    </fieldset>\r\n                </Form>\r\n            </MinimStyledPage>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default CandidateResultByRegistrationNo;\r\n\r\n"]},"metadata":{},"sourceType":"module"}