{"ast":null,"code":"var _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\region\\\\DeleteRegion.jsx\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { StyledButton, ButtonStyled } from '../utils/FormInputs';\nimport { getAllRegionsQuery } from \"../queries&Mutations&Functions/Queries\";\nimport { deleteRegionMutation } from \"../queries&Mutations&Functions/Mutations\";\n\nconst DeleteRegion = (_ref) => {\n  let {\n    id\n  } = _ref,\n      others = _objectWithoutProperties(_ref, [\"id\"]);\n\n  const updateCache = (cache, payload) => {\n    // manually update the cache so that the data are all the same\n    // 1. read the cache for the data we want\n    const data = cache && cache.readQuery({\n      query: getAllRegionsQuery\n    });\n    cache && cache.writeQuery({\n      query: getAllRegionsQuery,\n      data: {\n        regions: data.regions.filter(item => item.id !== payload.data.deleteRegion.id)\n      }\n    });\n    console.log(\"getting payload\");\n    console.log(payload);\n  };\n\n  const [deleteRegion] = useMutation(deleteRegionMutation, {\n    variables: {\n      id\n    },\n    update: updateCache()\n  });\n  return __jsx(ButtonStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, __jsx(StyledButton, {\n    onClick: () => {\n      if (confirm(\"Do you want to delete this Region ?\")) {\n        deleteRegion();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, others.children));\n};\n\nexport default DeleteRegion;","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/region/DeleteRegion.jsx"],"names":["React","useMutation","StyledButton","ButtonStyled","getAllRegionsQuery","deleteRegionMutation","DeleteRegion","id","others","updateCache","cache","payload","data","readQuery","query","writeQuery","regions","filter","item","deleteRegion","console","log","variables","update","confirm","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,qBAA3C;AACA,SAASC,kBAAT,QAAmC,wCAAnC;AACA,SAASC,oBAAT,QAAqC,0CAArC;;AAEA,MAAMC,YAAY,GAAG,UAAuB;AAAA,MAAtB;AAAEC,IAAAA;AAAF,GAAsB;AAAA,MAAbC,MAAa;;AAC1C,QAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACtC;AACA;AACA,UAAMC,IAAI,GAAGF,KAAK,IAAIA,KAAK,CAACG,SAAN,CAAgB;AAAEC,MAAAA,KAAK,EAAEV;AAAT,KAAhB,CAAtB;AACAM,IAAAA,KAAK,IAAIA,KAAK,CAACK,UAAN,CAAiB;AACxBD,MAAAA,KAAK,EAAEV,kBADiB;AAExBQ,MAAAA,IAAI,EAAE;AACJI,QAAAA,OAAO,EAAEJ,IAAI,CAACI,OAAL,CAAaC,MAAb,CACPC,IAAI,IAAIA,IAAI,CAACX,EAAL,KAAYI,OAAO,CAACC,IAAR,CAAaO,YAAb,CAA0BZ,EADvC;AADL;AAFkB,KAAjB,CAAT;AAQAa,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYV,OAAZ;AACD,GAdD;;AAgBA,QAAM,CAACQ,YAAD,IAAiBlB,WAAW,CAACI,oBAAD,EAAuB;AACvDiB,IAAAA,SAAS,EAAE;AAAEf,MAAAA;AAAF,KAD4C;AAEvDgB,IAAAA,MAAM,EAAEd,WAAW;AAFoC,GAAvB,CAAlC;AAMA,SACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIe,OAAO,CAAC,qCAAD,CAAX,EAAoD;AAClDL,QAAAA,YAAY;AACb;AACF,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOGX,MAAM,CAACiB,QAPV,CADF,CADF;AAaD,CApCD;;AAsCA,eAAenB,YAAf","sourcesContent":["import React from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport { StyledButton, ButtonStyled } from '../utils/FormInputs'\r\nimport { getAllRegionsQuery } from \"../queries&Mutations&Functions/Queries\";\r\nimport { deleteRegionMutation } from \"../queries&Mutations&Functions/Mutations\";\r\n\r\nconst DeleteRegion = ({ id, ...others }) => {\r\n  const updateCache = (cache, payload) => {\r\n    // manually update the cache so that the data are all the same\r\n    // 1. read the cache for the data we want\r\n    const data = cache && cache.readQuery({ query: getAllRegionsQuery });\r\n    cache && cache.writeQuery({\r\n      query: getAllRegionsQuery,\r\n      data: {\r\n        regions: data.regions.filter(\r\n          item => item.id !== payload.data.deleteRegion.id,\r\n        ),\r\n      },\r\n    });\r\n    console.log(\"getting payload\");\r\n    console.log(payload);\r\n  };\r\n\r\n  const [deleteRegion] = useMutation(deleteRegionMutation, {\r\n    variables: { id },\r\n    update: updateCache()\r\n  }\r\n\r\n  )\r\n  return (\r\n    <ButtonStyled>\r\n      <StyledButton\r\n        onClick={() => {\r\n          if (confirm(\"Do you want to delete this Region ?\")) {\r\n            deleteRegion();\r\n          }\r\n        }}\r\n      >\r\n        {others.children}\r\n      </StyledButton >\r\n    </ButtonStyled >\r\n  );\r\n}\r\n\r\nexport default DeleteRegion;\r\n"]},"metadata":{},"sourceType":"module"}