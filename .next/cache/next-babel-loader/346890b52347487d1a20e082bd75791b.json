{"ast":null,"code":"import _regeneratorRuntime from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\results\\\\candidate\\\\CandDetailedResultsHook.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\nimport { MiniStyledPage } from \"../../styles/StyledPage\";\nimport { format } from \"date-fns\";\nimport ResultDetails from \"./ResultDetails\";\nimport { Formik, Form } from \"formik\";\nimport useForm from \"../../utils/useForm\";\nimport { getCandidateRegistrationInfoQuery } from \"../../queries&Mutations&Functions/Queries\";\nimport { ButtonStyled, StyledButton, StyledForm } from \"../../utils/FormInputs\";\nimport { getCandidateResultsQuery } from \"../../queries&Mutations&Functions/Queries\";\nimport styled from \"styled-components\";\nimport { roundFloatNumber, calcCandTotalScore, calcCandTotalCoeff, calcCandAve } from \"../../queries&Mutations&Functions/Functions\";\nvar AveTotals = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__AveTotals\",\n  componentId: \"k6t8w2-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(12rem,1fr));font-size:1.7rem;grid-gap:1rem;background:\", \";border-bottom:0.2rem solid \", \";border-top:0.2rem solid \", \";align-items:center;justify-items:center;border-bottom-right-radius:0.6rem;border-bottom-left-radius:0.6rem;padding-top:0.5rem;padding-bottom:0.5rem;color:white;\"], function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.black;\n}, function (props) {\n  return props.theme.black;\n});\nvar SubjectTitles = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__SubjectTitles\",\n  componentId: \"k6t8w2-1\"\n})([\"display:grid;grid-template-columns:3fr repeat(3,1fr);color:white;border-top-right-radius:0.6rem;border-top-left-radius:0.6rem;font-size:1.8rem;justify-items:center;border-bottom:0.3rem solid \", \";background:\", \";\"], function (props) {\n  return props.theme.black;\n}, function (props) {\n  return props.theme.darkRed;\n});\nvar TitleItem = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__TitleItem\",\n  componentId: \"k6t8w2-2\"\n})([\"padding-right:2rem;border-right:0.2rem solid \", \";\"], function (props) {\n  return props.theme.pureWhite;\n});\nvar TitlesItem = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__TitlesItem\",\n  componentId: \"k6t8w2-3\"\n})([\"padding-right:2rem;\"]);\nvar CandInfo = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__CandInfo\",\n  componentId: \"k6t8w2-4\"\n})([\"background:\", \";display:grid;padding:0;border-bottom-right-radius:0.9rem;border-bottom-left-radius:0.9rem;grid-template-columns:repeat(auto-fit,minmax(15rem,1fr));grid-gap:1rem;margin-bottom:1rem;border-bottom:0.009rem solid \", \";border-left:0.009rem solid \", \";border-right:0.009rem solid \", \";\"], function (props) {\n  return props.theme.pureWhite;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.darkRed;\n});\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__StyledContainer\",\n  componentId: \"k6t8w2-5\"\n})([\"padding:1rem;\"]);\nvar SchoolInfo = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__SchoolInfo\",\n  componentId: \"k6t8w2-6\"\n})([\"display:grid;grid-template-columns:1fr;justify-items:center;align-items:center;font-size:1.8rem;margin:0 auto;\"]);\nvar SchoolInfo2 = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__SchoolInfo2\",\n  componentId: \"k6t8w2-7\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(10rem,1fr));justify-items:center;align-items:center;font-size:1.5rem;margin:0 0.3rem;\"]);\nvar SchoolInfoBlock = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__SchoolInfoBlock\",\n  componentId: \"k6t8w2-8\"\n})([\"display:grid;grid-template-columns:1fr;grid-auto-flow:colums;background:\", \";border-top:1rem solid \", \";border-bottom:1rem solid \", \";border-left:0.009rem solid \", \";border-right:0.009rem solid \", \";justify-content:center;align-items:center;color:\", \";font-size:1.5rem;padding:0.2rem;border-top-right-radius:0.6rem;border-top-left-radius:0.6rem;\"], function (props) {\n  return props.theme.lightGrey;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.darkRed;\n}, function (props) {\n  return props.theme.black;\n});\nvar CandPic = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__CandPic\",\n  componentId: \"k6t8w2-9\"\n})([\"margin-top:1rem;display:block;flex-direction:column;padding:5rem 0;img{height:18rem;width:15rem;border-radius:0.5rem;}\"]);\nvar FirstInfo = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__FirstInfo\",\n  componentId: \"k6t8w2-10\"\n})([\"text-align:left;display:block;flex-direction:column;font-size:1.5rem;line-height:0.3rem;margin:0;\"]);\nvar AveGen = styled.div.withConfig({\n  displayName: \"CandDetailedResultsHook__AveGen\",\n  componentId: \"k6t8w2-11\"\n})([\"display:grid;grid-template-columns:1fr;\"]);\n\nvar CandDetailedResultsHook = function CandDetailedResultsHook(_ref) {\n  _s();\n\n  var id = _ref.id;\n\n  var _useState = useState({\n    results: {}\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var client = useApolloClient();\n\n  var loadCenterRegistrationInfo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$client$query, data, getAllCandResults;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"running the difficult query\");\n              _context.next = 3;\n              return client.query({\n                query: getCandidateRegistrationInfoQuery,\n                variables: {\n                  id: id\n                }\n              });\n\n            case 3:\n              _yield$client$query = _context.sent;\n              data = _yield$client$query.data;\n              console.log(data);\n              getAllCandResults = data.registration;\n              console.log(getAllCandResults); // const { registration, center, examSession } = getCenterExamSession;\n              // const { exam, session } = { ...examSession };\n\n              setState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  results: getAllCandResults\n                });\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadCenterRegistrationInfo() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    loadCenterRegistrationInfo();\n  }, []);\n  console.log(state); // const {\n  //   candidate,\n  //   centerExamSessionSpecialty,\n  //   candRegistrationNumber,\n  //   scores,\n  // } = state.registration ;\n  // const { centerExamSession, specialty } = { ...centerExamSessionSpecialty };\n  // const { examSession, center } = { ...centerExamSession };\n  // const { exam, session } = { ...examSession };\n  // const { centerName } = { ...center };\n  // const { examName } = { ...exam };\n  // const { sessionName } = { ...session };\n  // const { specialtyName } = { ...specialty };\n  // const {\n  //   image,\n  //   cand1stName,\n  //   cand2ndName,\n  //   cand3rdName,\n  //   email,\n  //   placeOfBirth,\n  //   dateOfBirth,\n  //   dadName,\n  //   momName,\n  //   gender,\n  // } = candidate ;\n\n  var initialValues = {\n    candCode: \"\",\n    image: \"\",\n    cand1stName: \"\",\n    cand2ndName: \"\",\n    cand3rdName: \"\",\n    email: \"\",\n    gender: \"\",\n    placeOfBirth: \"\",\n    dateOfBirth: \"\",\n    candExamSecretCode: \"\"\n  };\n  return __jsx(Formik, {\n    method: \"GET\",\n    initialValues: initialValues,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }, function (_ref3) {\n    var isSubmitting = _ref3.isSubmitting;\n    return __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 16\n      }\n    }, \" results here\");\n  });\n};\n\n_s(CandDetailedResultsHook, \"WbvPdLaWdvduWZ9Igp8dogWkizU=\", false, function () {\n  return [useApolloClient];\n});\n\n_c = CandDetailedResultsHook;\nexport default CandDetailedResultsHook; // <MiniStyledPage>\n//   <h4>\n//     Resultat Du: {exam && examName}, Session:\n//     {session && sessionName}, Pour:-\n//     {candidate && cand1stName}\n//     {candidate && cand2ndName}\n//   </h4>\n//   <StyledForm disabled={isSubmitting} aria-busy={isSubmitting}>\n//     <Form>\n//       <StyledContainer>\n//         <SchoolInfoBlock>\n//           <SchoolInfo>\n//             <span>\n//               <strong> Centre D'Examen: </strong>\n//               <hr />\n//             </span>\n//             <span>{center && centerName}</span>\n//           </SchoolInfo>\n//           <SchoolInfo2>\n//             <span>\n//               <strong> Examen: </strong> {exam && examName}\n//             </span>\n//             <span>\n//               <strong> Session: </strong>\n//               {session && sessionName}\n//             </span>\n//           </SchoolInfo2>\n//           <SchoolInfo>\n//             <span>\n//               <strong> Numero d'Inscription: </strong>\n//               {candRegistrationNumber}\n//             </span>\n//             <span>\n//               <strong> Specialization: </strong>\n//               <hr />\n//             </span>\n//             <span>{specialty && specialtyName}</span>\n//           </SchoolInfo>\n//         </SchoolInfoBlock>\n//         <CandInfo>\n//           <CandPic>\n//             <img\n//               // src={candidate && image}\n//               alt={candidate && cand1stName}\n//             />\n//           </CandPic>\n//           <FirstInfo>\n//               <span>\n//                 <strong> Nom: </strong>\n//                 {candidate && cand1stName}\n//               </span>\n//               <span>\n//                 <strong> Prenom: </strong>\n//                 {candidate && cand2ndName}\n//               </span>\n//               <span>\n//                 <strong> Autres Noms: </strong>\n//                 {candidate && cand3rdName}\n//               </span>\n//               <span>\n//                 <strong>Naissance: </strong>\n//               </span>\n//             <hr />\n//               <span>\n//                 <strong> Date: </strong>\n//                 {format(candidate && dateOfBirth, \"d MMMM, YYYY \")}\n//               </span>\n//               <span>\n//                 <strong> Lieu: </strong>\n//                 {candidate && placeOfBirth}\n//               </span>\n//               <span>\n//                 <strong> Sexe: </strong>\n//                 {candidate && gender}\n//               </span>\n//               <span>\n//                 <strong> Email: </strong>\n//               </span>\n//               <span>{candidate && email}</span>\n//               <span>\n//                 <strong> Noms des parents: </strong>\n//               </span>\n//             <hr />\n//               <span>\n//                 <strong>Père: </strong>\n//               </span>\n//               <span>{candidate && dadName}</span>\n//               <span>\n//                 <strong>Mère: </strong>\n//               </span>\n//               <span>{candidate && momName}</span>\n//           </FirstInfo>\n//         </CandInfo>\n//         <SubjectTitles>\n//           <TitleItem>Matiere</TitleItem>\n//           <TitleItem>Coeff</TitleItem>\n//           <TitleItem>Moyenne</TitleItem>\n//           <TitlesItem>Total</TitlesItem>\n//         </SubjectTitles>\n//         {scores &&\n//           scores.map((item) => (\n//             <ResultDetails key={item.id} score={item} />\n//           ))}\n//         <AveTotals>\n//           <AveGen>\n//             <span>\n//               <strong>Moyenne:</strong>\n//             </span>\n//             <span>\n//               <strong>\n//                 {scores && roundFloatNumber(calcCandAve(scores), 4)}\n//               </strong>\n//             </span>\n//           </AveGen>\n//           <AveGen>\n//             <span>\n//               <strong>Coefficients:</strong>\n//             </span>\n//             <span>\n//               <strong>\n//                 {scores &&\n//                   roundFloatNumber(calcCandTotalCoeff(scores), 4)}\n//               </strong>\n//             </span>\n//           </AveGen>\n//           <AveGen>\n//             <span>\n//               <strong>Total Matieres:</strong>\n//             </span>\n//             <span>\n//               <strong>\n//                 {scores &&\n//                   roundFloatNumber(calcCandTotalScore(scores), 4)}\n//               </strong>\n//             </span>\n//           </AveGen>\n//         </AveTotals>\n//       </StyledContainer>\n//     </Form>\n//   </StyledForm>\n// </MiniStyledPage>\n\nvar _c;\n\n$RefreshReg$(_c, \"CandDetailedResultsHook\");","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/results/candidate/CandDetailedResultsHook.jsx"],"names":["React","useState","useEffect","useApolloClient","MiniStyledPage","format","ResultDetails","Formik","Form","useForm","getCandidateRegistrationInfoQuery","ButtonStyled","StyledButton","StyledForm","getCandidateResultsQuery","styled","roundFloatNumber","calcCandTotalScore","calcCandTotalCoeff","calcCandAve","AveTotals","div","props","theme","darkRed","black","SubjectTitles","TitleItem","pureWhite","TitlesItem","CandInfo","StyledContainer","SchoolInfo","SchoolInfo2","SchoolInfoBlock","lightGrey","CandPic","FirstInfo","AveGen","CandDetailedResultsHook","id","results","state","setState","client","loadCenterRegistrationInfo","console","log","query","variables","data","getAllCandResults","registration","prev","initialValues","candCode","image","cand1stName","cand2ndName","cand3rdName","email","gender","placeOfBirth","dateOfBirth","candExamSecretCode","isSubmitting"],"mappings":"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AVA,GAAtB;AAYA,SACE,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,KAAf;AAAqB,IAAA,aAAa,EAAEV,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,iBAAsB;AAAA,QAAnBW,YAAmB,SAAnBA,YAAmB;AACrB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACD,GAHH,CADF;AAOD,CAzED;;GAAM1B,uB;UAEWpC,e;;;KAFXoC,uB;AA2EN,eAAeA,uBAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useApolloClient } from \"@apollo/react-hooks\";\r\nimport { MiniStyledPage } from \"../../styles/StyledPage\";\r\nimport { format } from \"date-fns\";\r\nimport ResultDetails from \"./ResultDetails\";\r\nimport { Formik, Form } from \"formik\";\r\nimport useForm from \"../../utils/useForm\";\r\nimport { getCandidateRegistrationInfoQuery } from \"../../queries&Mutations&Functions/Queries\";\r\n\r\nimport { ButtonStyled, StyledButton, StyledForm } from \"../../utils/FormInputs\";\r\nimport { getCandidateResultsQuery } from \"../../queries&Mutations&Functions/Queries\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  roundFloatNumber,\r\n  calcCandTotalScore,\r\n  calcCandTotalCoeff,\r\n  calcCandAve,\r\n} from \"../../queries&Mutations&Functions/Functions\";\r\n\r\nconst AveTotals = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\r\n  font-size: 1.7rem;\r\n  grid-gap: 1rem;\r\n  background: ${(props) => props.theme.darkRed};\r\n  border-bottom: 0.2rem solid ${(props) => props.theme.black};\r\n  border-top: 0.2rem solid ${(props) => props.theme.black};\r\n  align-items: center;\r\n  justify-items: center;\r\n  border-bottom-right-radius: 0.6rem;\r\n  border-bottom-left-radius: 0.6rem;\r\n  padding-top: 0.5rem;\r\n  padding-bottom: 0.5rem;\r\n  color: white;\r\n`;\r\n\r\nconst SubjectTitles = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 3fr repeat(3, 1fr);\r\n  color: white;\r\n  border-top-right-radius: 0.6rem;\r\n  border-top-left-radius: 0.6rem;\r\n  font-size: 1.8rem;\r\n  justify-items: center;\r\n  border-bottom: 0.3rem solid ${(props) => props.theme.black};\r\n  background: ${(props) => props.theme.darkRed};\r\n`;\r\n\r\nconst TitleItem = styled.div`\r\n  padding-right: 2rem;\r\n  border-right: 0.2rem solid ${(props) => props.theme.pureWhite};\r\n  /* text-align: left; */\r\n`;\r\n\r\nconst TitlesItem = styled.div`\r\n  padding-right: 2rem;\r\n  /* text-align: left; */\r\n`;\r\n\r\nconst CandInfo = styled.div`\r\n  background: ${(props) => props.theme.pureWhite};\r\n  display: grid;\r\n  padding: 0;\r\n  border-bottom-right-radius: 0.9rem;\r\n  border-bottom-left-radius: 0.9rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));\r\n  grid-gap: 1rem;\r\n  margin-bottom: 1rem;\r\n  border-bottom: 0.009rem solid ${(props) => props.theme.darkRed};\r\n  border-left: 0.009rem solid ${(props) => props.theme.darkRed};\r\n  border-right: 0.009rem solid ${(props) => props.theme.darkRed};\r\n`;\r\nconst StyledContainer = styled.div`\r\n  padding: 1rem;\r\n`;\r\n\r\nconst SchoolInfo = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  justify-items: center;\r\n  align-items: center;\r\n  font-size: 1.8rem;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SchoolInfo2 = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));\r\n  justify-items: center;\r\n  align-items: center;\r\n  font-size: 1.5rem;\r\n  margin: 0 0.3rem;\r\n`;\r\n\r\nconst SchoolInfoBlock = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-auto-flow: colums;\r\n  background: ${(props) => props.theme.lightGrey};\r\n  border-top: 1rem solid ${(props) => props.theme.darkRed};\r\n  border-bottom: 1rem solid ${(props) => props.theme.darkRed};\r\n  border-left: 0.009rem solid ${(props) => props.theme.darkRed};\r\n  border-right: 0.009rem solid ${(props) => props.theme.darkRed};\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${(props) => props.theme.black};\r\n  font-size: 1.5rem;\r\n  padding: 0.2rem;\r\n  border-top-right-radius: 0.6rem;\r\n  border-top-left-radius: 0.6rem;\r\n`;\r\nconst CandPic = styled.div`\r\n  margin-top: 1rem;\r\n  display: block;\r\n  flex-direction: column;\r\n\r\n  padding: 5rem 0;\r\n  img {\r\n    height: 18rem;\r\n    width: 15rem;\r\n    border-radius: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst FirstInfo = styled.div`\r\n  text-align: left;\r\n  display: block;\r\n  flex-direction: column;\r\n  font-size: 1.5rem;\r\n  line-height: 0.3rem;\r\n  margin: 0;\r\n`;\r\n\r\nconst AveGen = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n`;\r\n\r\nconst CandDetailedResultsHook = ({ id }) => {\r\n  const [state, setState] = useState({ results: {} });\r\n  const client = useApolloClient();\r\n\r\n\r\n  const loadCenterRegistrationInfo = async () => {\r\n    console.log(\"running the difficult query\");\r\n    const { data } = await client.query({\r\n      query: getCandidateRegistrationInfoQuery,\r\n      variables: { id: id },\r\n    });\r\n    console.log(data);\r\n    const getAllCandResults = data.registration;\r\n    console.log(getAllCandResults)\r\n    // const { registration, center, examSession } = getCenterExamSession;\r\n    // const { exam, session } = { ...examSession };\r\n\r\n    setState((prev) => ({ ...prev, results: getAllCandResults}));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCenterRegistrationInfo();\r\n  }, []);\r\n\r\n  console.log(state);\r\n  // const {\r\n  //   candidate,\r\n  //   centerExamSessionSpecialty,\r\n  //   candRegistrationNumber,\r\n  //   scores,\r\n  // } = state.registration ;\r\n\r\n  // const { centerExamSession, specialty } = { ...centerExamSessionSpecialty };\r\n\r\n  // const { examSession, center } = { ...centerExamSession };\r\n  // const { exam, session } = { ...examSession };\r\n  // const { centerName } = { ...center };\r\n  // const { examName } = { ...exam };\r\n  // const { sessionName } = { ...session };\r\n  // const { specialtyName } = { ...specialty };\r\n\r\n  // const {\r\n  //   image,\r\n  //   cand1stName,\r\n  //   cand2ndName,\r\n  //   cand3rdName,\r\n  //   email,\r\n  //   placeOfBirth,\r\n  //   dateOfBirth,\r\n  //   dadName,\r\n  //   momName,\r\n  //   gender,\r\n  // } = candidate ;\r\n\r\n  const initialValues = {\r\n    candCode: \"\",\r\n    image: \"\",\r\n    cand1stName: \"\",\r\n    cand2ndName: \"\",\r\n    cand3rdName: \"\",\r\n    email: \"\",\r\n    gender: \"\",\r\n    placeOfBirth: \"\",\r\n    dateOfBirth: \"\",\r\n    candExamSecretCode: \"\",\r\n  };\r\n  return (\r\n    <Formik method=\"GET\" initialValues={initialValues}>\r\n      {({ isSubmitting }) => {\r\n        return <p> results here</p>;\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default CandDetailedResultsHook;\r\n// <MiniStyledPage>\r\n//   <h4>\r\n//     Resultat Du: {exam && examName}, Session:\r\n//     {session && sessionName}, Pour:-\r\n//     {candidate && cand1stName}\r\n//     {candidate && cand2ndName}\r\n//   </h4>\r\n//   <StyledForm disabled={isSubmitting} aria-busy={isSubmitting}>\r\n//     <Form>\r\n//       <StyledContainer>\r\n//         <SchoolInfoBlock>\r\n//           <SchoolInfo>\r\n//             <span>\r\n//               <strong> Centre D'Examen: </strong>\r\n//               <hr />\r\n//             </span>\r\n//             <span>{center && centerName}</span>\r\n//           </SchoolInfo>\r\n//           <SchoolInfo2>\r\n//             <span>\r\n//               <strong> Examen: </strong> {exam && examName}\r\n//             </span>\r\n//             <span>\r\n//               <strong> Session: </strong>\r\n//               {session && sessionName}\r\n//             </span>\r\n//           </SchoolInfo2>\r\n//           <SchoolInfo>\r\n//             <span>\r\n//               <strong> Numero d'Inscription: </strong>\r\n//               {candRegistrationNumber}\r\n//             </span>\r\n//             <span>\r\n//               <strong> Specialization: </strong>\r\n//               <hr />\r\n//             </span>\r\n//             <span>{specialty && specialtyName}</span>\r\n//           </SchoolInfo>\r\n//         </SchoolInfoBlock>\r\n//         <CandInfo>\r\n//           <CandPic>\r\n//             <img\r\n//               // src={candidate && image}\r\n//               alt={candidate && cand1stName}\r\n//             />\r\n//           </CandPic>\r\n//           <FirstInfo>\r\n\r\n//               <span>\r\n//                 <strong> Nom: </strong>\r\n//                 {candidate && cand1stName}\r\n//               </span>\r\n\r\n//               <span>\r\n//                 <strong> Prenom: </strong>\r\n//                 {candidate && cand2ndName}\r\n//               </span>\r\n\r\n//               <span>\r\n//                 <strong> Autres Noms: </strong>\r\n//                 {candidate && cand3rdName}\r\n//               </span>\r\n//               <span>\r\n//                 <strong>Naissance: </strong>\r\n//               </span>\r\n//             <hr />\r\n//               <span>\r\n//                 <strong> Date: </strong>\r\n//                 {format(candidate && dateOfBirth, \"d MMMM, YYYY \")}\r\n//               </span>\r\n//               <span>\r\n//                 <strong> Lieu: </strong>\r\n//                 {candidate && placeOfBirth}\r\n//               </span>\r\n\r\n//               <span>\r\n//                 <strong> Sexe: </strong>\r\n//                 {candidate && gender}\r\n//               </span>\r\n//               <span>\r\n//                 <strong> Email: </strong>\r\n//               </span>\r\n//               <span>{candidate && email}</span>\r\n\r\n//               <span>\r\n//                 <strong> Noms des parents: </strong>\r\n//               </span>\r\n//             <hr />\r\n//               <span>\r\n//                 <strong>Père: </strong>\r\n//               </span>\r\n//               <span>{candidate && dadName}</span>\r\n//               <span>\r\n//                 <strong>Mère: </strong>\r\n//               </span>\r\n//               <span>{candidate && momName}</span>\r\n//           </FirstInfo>\r\n//         </CandInfo>\r\n//         <SubjectTitles>\r\n//           <TitleItem>Matiere</TitleItem>\r\n//           <TitleItem>Coeff</TitleItem>\r\n//           <TitleItem>Moyenne</TitleItem>\r\n//           <TitlesItem>Total</TitlesItem>\r\n//         </SubjectTitles>\r\n\r\n//         {scores &&\r\n//           scores.map((item) => (\r\n//             <ResultDetails key={item.id} score={item} />\r\n//           ))}\r\n//         <AveTotals>\r\n//           <AveGen>\r\n//             <span>\r\n//               <strong>Moyenne:</strong>\r\n//             </span>\r\n//             <span>\r\n//               <strong>\r\n//                 {scores && roundFloatNumber(calcCandAve(scores), 4)}\r\n//               </strong>\r\n//             </span>\r\n//           </AveGen>\r\n\r\n//           <AveGen>\r\n//             <span>\r\n//               <strong>Coefficients:</strong>\r\n//             </span>\r\n//             <span>\r\n//               <strong>\r\n//                 {scores &&\r\n//                   roundFloatNumber(calcCandTotalCoeff(scores), 4)}\r\n//               </strong>\r\n//             </span>\r\n//           </AveGen>\r\n//           <AveGen>\r\n//             <span>\r\n//               <strong>Total Matieres:</strong>\r\n//             </span>\r\n//             <span>\r\n//               <strong>\r\n//                 {scores &&\r\n//                   roundFloatNumber(calcCandTotalScore(scores), 4)}\r\n//               </strong>\r\n//             </span>\r\n//           </AveGen>\r\n//         </AveTotals>\r\n//       </StyledContainer>\r\n//     </Form>\r\n//   </StyledForm>\r\n// </MiniStyledPage>\r\n"]},"metadata":{},"sourceType":"module"}