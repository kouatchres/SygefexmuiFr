{"ast":null,"code":"var _jsxFileName = \"E:\\\\sygefexMui\\\\sygefexMui-frontend\\\\src\\\\components\\\\region\\\\RegionToModifyHook.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport Link from \"next/link\";\nimport { Formik, Form } from 'formik';\nimport styled from \"styled-components\";\nimport DeleteRegion from './DeleteRegion';\nimport Error from \"../ErrorMessage\";\nimport useForm from '../utils/useForm';\nimport { getAllRegionsQuery } from \"../queries&Mutations&Functions/Queries\";\nimport { MinimStyledPage } from \"../styles/StyledPage\";\nimport { removeTypename } from '../queries&Mutations&Functions/Functions';\nimport { deleteRegionMutation } from '../queries&Mutations&Functions/Mutations';\nimport { StyledForm, SygefexSelect, ButtonStyled, StyledButton } from '../utils/FormInputs';\nconst InputGroup = styled.div.withConfig({\n  displayName: \"RegionToModifyHook__InputGroup\",\n  componentId: \"sc-45hgvv-0\"\n})([\"display:flex;flex-direction:column;margin:0 1rem;min-width:12rem;\"]);\nconst TwoGroups = styled.div.withConfig({\n  displayName: \"RegionToModifyHook__TwoGroups\",\n  componentId: \"sc-45hgvv-1\"\n})([\"display:flex;flex-direction:column;\"]);\nconst AllControls = styled.div.withConfig({\n  displayName: \"RegionToModifyHook__AllControls\",\n  componentId: \"sc-45hgvv-2\"\n})([\"display:flex;flex-direction:column;min-width:15rem;\"]);\nconst Buttons = styled.div.withConfig({\n  displayName: \"RegionToModifyHook__Buttons\",\n  componentId: \"sc-45hgvv-3\"\n})([\"a{text-decoration:none;}display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;margin:0 auto;padding-left:1rem;align-items:center;justify-content:center;\"]);\n\nconst RegionToModifyHook = () => {\n  const [state, setState, handleReactSelectChange] = useForm({\n    regionID: \"\"\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    const val = type === \"number\" ? parseInt(value) : value;\n    setState({\n      [name]: val\n    });\n  };\n\n  const {\n    data: dataRegions,\n    loading,\n    error: errorReg\n  } = useQuery(getAllRegionsQuery);\n  const getRegions = dataRegions && dataRegions.regions;\n\n  const {\n    region\n  } = _objectSpread({}, getRegions);\n\n  console.log(getRegions);\n  const getRegionsOptions = getRegions && getRegions.map(item => ({\n    value: item.id,\n    label: item.regName\n  }));\n  state.regionID && console.log(state.regionID);\n  const [deleteRegion] = useMutation(deleteRegionMutation, {\n    variables: {\n      id: state.regionID\n    }\n  });\n  return __jsx(Formik, {\n    method: \"POST\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, ({\n    values,\n    isSubmitting\n  }) => __jsx(MinimStyledPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Correction Info Region\"), __jsx(Error, {\n    error: errorReg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), __jsx(StyledForm, {\n    disabled: isSubmitting || loading,\n    \"aria-busy\": isSubmitting || loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(AllControls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, __jsx(TwoGroups, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, __jsx(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, __jsx(SygefexSelect, {\n    name: \"regionID\",\n    onChange: handleReactSelectChange,\n    options: getRegionsOptions,\n    placeholder: \"La région\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  })), __jsx(Buttons, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, __jsx(ButtonStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, __jsx(DeleteRegion, {\n    id: state.regionID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }\n  }, \"Supprimer\")), __jsx(ButtonStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, __jsx(StyledButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  }, __jsx(Link, {\n    href: {\n      pathname: \"../updates/updateRegion\",\n      query: state.regionID && {\n        id: state.regionID\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }\n  }, \"Modifier\")))))))))));\n};\n\nexport default RegionToModifyHook;","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/region/RegionToModifyHook.jsx"],"names":["React","useQuery","useMutation","Link","Formik","Form","styled","DeleteRegion","Error","useForm","getAllRegionsQuery","MinimStyledPage","removeTypename","deleteRegionMutation","StyledForm","SygefexSelect","ButtonStyled","StyledButton","InputGroup","div","TwoGroups","AllControls","Buttons","RegionToModifyHook","state","setState","handleReactSelectChange","regionID","handleChange","e","name","value","type","target","val","parseInt","data","dataRegions","loading","error","errorReg","getRegions","regions","region","console","log","getRegionsOptions","map","item","id","label","regName","deleteRegion","variables","values","isSubmitting","pathname","query"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,QAA7B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,kBAAT,QAAmC,wCAAnC;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,cAAT,QAA+B,0CAA/B;AACA,SAASC,oBAAT,QAAqC,0CAArC;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,YAApC,EAAkDC,YAAlD,QAAsE,qBAAtE;AAIA,MAAMC,UAAU,GAAGZ,MAAM,CAACa,GAAV;AAAA;AAAA;AAAA,yEAAhB;AASA,MAAMC,SAAS,GAAGd,MAAM,CAACa,GAAV;AAAA;AAAA;AAAA,2CAAf;AAOA,MAAME,WAAW,GAAGf,MAAM,CAACa,GAAV;AAAA;AAAA;AAAA,2DAAjB;AAQA,MAAMG,OAAO,GAAGhB,MAAM,CAACa,GAAV;AAAA;AAAA;AAAA,mKAAb;;AAYA,MAAMI,kBAAkB,GAAG,MAAM;AAC/B,QAAM,CAACC,KAAD,EAAQC,QAAR,EAAkBC,uBAAlB,IAA6CjB,OAAO,CAAC;AAAEkB,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAA1D;;AAEA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA;AAAf,QAAwBH,CAAC,CAACI,MAAhC;AACA,UAAMC,GAAG,GAAGF,IAAI,KAAK,QAAT,GAAoBG,QAAQ,CAACJ,KAAD,CAA5B,GAAsCA,KAAlD;AACAN,IAAAA,QAAQ,CAAC;AAAE,OAACK,IAAD,GAAQI;AAAV,KAAD,CAAR;AACD,GAJD;;AAOA,QAAM;AAAEE,IAAAA,IAAI,EAAEC,WAAR;AAAqBC,IAAAA,OAArB;AAA8BC,IAAAA,KAAK,EAAEC;AAArC,MAAkDvC,QAAQ,CAACS,kBAAD,CAAhE;AAEA,QAAM+B,UAAU,GAAGJ,WAAW,IAAIA,WAAW,CAACK,OAA9C;;AACA,QAAM;AAAEC,IAAAA;AAAF,wBAAkBF,UAAlB,CAAN;;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACA,QAAMK,iBAAiB,GAAGL,UAAU,IAAIA,UAAU,CAACM,GAAX,CAAgBC,IAAD,KAAW;AAChEjB,IAAAA,KAAK,EAAEiB,IAAI,CAACC,EADoD;AAChDC,IAAAA,KAAK,EAAEF,IAAI,CAACG;AADoC,GAAX,CAAf,CAAxC;AAGA3B,EAAAA,KAAK,CAACG,QAAN,IAAkBiB,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACG,QAAlB,CAAlB;AAEA,QAAM,CAACyB,YAAD,IAAiBlD,WAAW,CAACW,oBAAD,EAAuB;AACvDwC,IAAAA,SAAS,EAAE;AAAEJ,MAAAA,EAAE,EAAEzB,KAAK,CAACG;AAAZ;AAD4C,GAAvB,CAAlC;AAIA,SACE,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAE2B,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,KACC,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE,MAAC,KAAD;AAAO,IAAA,KAAK,EAAEf,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,UAAD;AAAY,IAAA,QAAQ,EAAEe,YAAY,IAAKjB,OAAvC;AAAgD,iBAAWiB,YAAY,IAAKjB,OAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AAAe,IAAA,IAAI,EAAC,UAApB;AAA+B,IAAA,QAAQ,EAAEZ,uBAAzC;AAAkE,IAAA,OAAO,EAAEoB,iBAA3E;AAA8F,IAAA,WAAW,EAAE,WAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,EAKE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAc,IAAA,EAAE,EAAEtB,KAAK,CAACG,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAIE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAc,IAAA,IAAI,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AACV6B,MAAAA,QAAQ,EAAE,yBADA;AAEVC,MAAAA,KAAK,EAAEjC,KAAK,CAACG,QAAN,IAAkB;AAAEsB,QAAAA,EAAE,EAAEzB,KAAK,CAACG;AAAZ;AAFf,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAG,IAAA,MAAM,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF,CADF,CAJF,CALF,CADF,CADF,CADF,CAHF,CAFJ,CADF;AAwCD,CAhED;;AAkEA,eAAeJ,kBAAf","sourcesContent":["import React from \"react\";\r\nimport { useQuery, useMutation } from '@apollo/react-hooks'\r\nimport Link from \"next/link\";\r\nimport { Formik, Form } from 'formik';\r\nimport styled from \"styled-components\";\r\nimport DeleteRegion from './DeleteRegion'\r\nimport Error from \"../ErrorMessage\";\r\nimport useForm from '../utils/useForm'\r\nimport { getAllRegionsQuery } from \"../queries&Mutations&Functions/Queries\";\r\nimport { MinimStyledPage } from \"../styles/StyledPage\";\r\nimport { removeTypename } from '../queries&Mutations&Functions/Functions'\r\nimport { deleteRegionMutation } from '../queries&Mutations&Functions/Mutations'\r\nimport { StyledForm, SygefexSelect, ButtonStyled, StyledButton } from '../utils/FormInputs'\r\n\r\n\r\n\r\nconst InputGroup = styled.div`\r\n    \r\n    display: flex;\r\n    flex-direction:column;\r\n    margin:0 1rem;\r\n    min-width:12rem;\r\n   \r\n`;\r\n\r\nconst TwoGroups = styled.div`\r\n    \r\n    display: flex;\r\n   flex-direction:column;\r\n  \r\n`;\r\n\r\nconst AllControls = styled.div`\r\n  display: flex;\r\nflex-direction:column;\r\nmin-width:15rem;\r\n\r\n`;\r\n\r\n\r\nconst Buttons = styled.div`\r\na{text-decoration:none;}\r\ndisplay: grid;\r\ngrid-template-columns: 1fr 1fr;\r\ngrid-gap:1rem;\r\nmargin:0 auto;\r\npadding-left:1rem;\r\nalign-items:center;\r\njustify-content:center;\r\n\r\n`;\r\n\r\nconst RegionToModifyHook = () => {\r\n  const [state, setState, handleReactSelectChange] = useForm({ regionID: \"\" });\r\n\r\n  const handleChange = e => {\r\n    const { name, value, type } = e.target;\r\n    const val = type === \"number\" ? parseInt(value) : value;\r\n    setState({ [name]: val });\r\n  };\r\n\r\n\r\n  const { data: dataRegions, loading, error: errorReg } = useQuery(getAllRegionsQuery)\r\n  \r\n  const getRegions = dataRegions && dataRegions.regions\r\n  const { region } = { ...getRegions }\r\n  console.log(getRegions);\r\n  const getRegionsOptions = getRegions && getRegions.map((item) => ({\r\n    value: item.id, label: item.regName\r\n  }))\r\n  state.regionID && console.log(state.regionID);\r\n\r\n  const [deleteRegion] = useMutation(deleteRegionMutation, {\r\n    variables: { id: state.regionID },\r\n  })\r\n\r\n  return (\r\n    <Formik method=\"POST\">\r\n      {({ values, isSubmitting }) => (\r\n        <MinimStyledPage>\r\n          <h4>Correction Info Region</h4>\r\n          <Error error={errorReg} />\r\n          <StyledForm disabled={isSubmitting  || loading} aria-busy={isSubmitting  || loading} >\r\n            <Form>\r\n              <AllControls>\r\n                <TwoGroups>\r\n\r\n                  <InputGroup>\r\n                    <SygefexSelect name=\"regionID\" onChange={handleReactSelectChange} options={getRegionsOptions} placeholder={\"La région\"} />\r\n                  </InputGroup>\r\n                  <Buttons>\r\n                    <ButtonStyled>\r\n                      <DeleteRegion id={state.regionID}>Supprimer</DeleteRegion>\r\n                    </ButtonStyled>\r\n                    <ButtonStyled>\r\n                      <StyledButton type=\"submit\">\r\n                        <Link href={{\r\n                          pathname: \"../updates/updateRegion\",\r\n                          query: state.regionID && { id: state.regionID },\r\n\r\n                        }}>\r\n                          <a target=\"_blank\">Modifier</a>\r\n                        </Link>\r\n                      </StyledButton>\r\n                    </ButtonStyled>\r\n                  </Buttons>\r\n                </TwoGroups>\r\n              </AllControls>\r\n            </Form>\r\n          </StyledForm>\r\n        </MinimStyledPage >\r\n      )\r\n      }\r\n    </Formik>\r\n\r\n  );\r\n};\r\n\r\nexport default RegionToModifyHook;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}