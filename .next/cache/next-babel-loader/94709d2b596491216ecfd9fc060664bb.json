{"ast":null,"code":"import _regeneratorRuntime from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"E:/sygefexMui/sygefexMui-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { concat } from \"apollo-link\";\n\nvar uniqueCodeGen = function uniqueCodeGen(keyLength) {\n  var i,\n      key = \"\",\n      //  characters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  characters = \"abcdefghijklmnopqrstuvwxyzABCDEF@#$%&GHIJKLMNOPQRSTUVWXYZ0123456789\";\n  var charactersLength = characters.length;\n\n  for (i = 0; i < keyLength; i++) {\n    key += characters.substr(Math.floor(Math.random() * charactersLength + 1), 1);\n  }\n\n  return key;\n};\n\nvar objectFromCode = function objectFromCode(codeValue) {\n  var storedObject = {\n    candCode: \"\".concat(codeValue)\n  };\n  return storedObject;\n};\n\nvar getObjectFromID = function getObjectFromID(suppliedID) {\n  var theObject = {\n    id: \"\".concat(suppliedID)\n  };\n  return theObject;\n};\n\nvar centerExamSessionObjectFromCode = function centerExamSessionObjectFromCode(codeValue) {\n  var storedObject = {\n    centerExamSession: \"\".concat(codeValue)\n  };\n  return storedObject;\n};\n\nvar candExamSessionCode = function candExamSessionCode(candID, examID, sessionID) {\n  return \"\".concat(candID + examID + sessionID);\n};\n\nvar getSelectedObject = function getSelectedObject(dataSource, objectID) {\n  // 1 copy the data source\n  if (dataSource.length > 0) {\n    var tempObjects = _toConsumableArray(dataSource); // get the object\n\n\n    var selectedObject = tempObjects.find(function (item) {\n      return item.id === objectID;\n    });\n    return selectedObject;\n  }\n};\n\nvar getSpecialtyID = function getSpecialtyID(dataSource, CESSID) {\n  // 1 copy the data source\n  if (dataSource) {\n    var tempObjects = _toConsumableArray(dataSource); // get the object\n\n\n    var selectedObject = tempObjects.find(function (item) {\n      return item.id === CESSID;\n    });\n\n    var _selectedObject = _objectSpread({}, selectedObject),\n        specialty = _selectedObject.specialty;\n\n    return specialty;\n  }\n};\n\nvar getRegisteredCandidatesPerSpecialty = function getRegisteredCandidatesPerSpecialty(dataSource, CESSID) {\n  // 1 copy the data source\n  if (dataSource) {\n    var tempObjects = _toConsumableArray(dataSource); // get the object\n\n\n    var selectedObject = tempObjects.find(function (item) {\n      return item.id === CESSID;\n    });\n\n    var _selectedObject2 = _objectSpread({}, selectedObject),\n        specialty = _selectedObject2.specialty;\n\n    return specialty;\n  }\n}; // function to model a number with leading zeroes\n\n\nNumber.prototype.pad = function (size) {\n  var s = String(this);\n\n  while (s.length < (size || 2)) {\n    s = \"0\" + s;\n  }\n\n  return s;\n};\n\nvar calcCandAve = function calcCandAve(candScores) {\n  var aveTotal = candScores && candScores.reduce(function (tally, item) {\n    return tally + item.subjectAve * item.coeff;\n  }, 0);\n  var coeffTotal = candScores.reduce(function (tally, item) {\n    return item.subjectAve === null ? tally : tally + item.coeff;\n  }, 0);\n  var candAve = aveTotal / coeffTotal;\n  return candAve;\n};\n\nvar calcCandTotalScore = function calcCandTotalScore(candScores) {\n  var aveTotal = candScores && candScores.reduce(function (tally, item) {\n    return tally + item.subjectAve * item.coeff;\n  }, 0);\n  return aveTotal;\n};\n\nvar calcCandTotalCoeff = function calcCandTotalCoeff(candScores) {\n  var coeffTotal = candScores && candScores.reduce(function (tally, item) {\n    return item.subjectAve === null ? tally : tally + item.coeff;\n  }, 0);\n  return coeffTotal;\n};\n\nvar roundFloatNumber = function roundFloatNumber(value, decimals) {\n  return Number(Math.round(value + \"e\" + decimals) + \"e-\" + decimals);\n};\n\nvar removeTypename = function removeTypename(value) {\n  if (value === null || value === undefined) {\n    return value;\n  } else if (Array.isArray(value)) {\n    return value.map(function (v) {\n      return removeTypename(v);\n    });\n  } else if (typeof value === \"object\") {\n    var newObj = {};\n    Object.entries(value).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          v = _ref2[1];\n\n      if (key !== \"__typename\") {\n        newObj[key] = removeTypename(v);\n      }\n    });\n    return newObj;\n  }\n\n  return value;\n};\n\nvar uploadFile = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n    var files, data, res, file;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            files = e.target.files;\n            data = new FormData();\n            data.append(\"file\", files[0]);\n            data.append(\"upload_preset\", \"ineximages\");\n            _context.next = 6;\n            return fetch(\"https://api.cloudinary.com/v1_1/inex/image/upload\", {\n              method: \"POST\",\n              body: data\n            });\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return res.json();\n\n          case 9:\n            file = _context.sent;\n            console.log(file); // this.setState({ image: file.secure_url });\n\n            setState({\n              image: file.secure_url\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function uploadFile(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}(); // const updateCacheForDelete = (cache, { data }, queryToUpdate) => {\n//   // manually update the cache so that the data are all the same\n//   // 1. read the cache for the data we want\n//   const { regions, deleteRegion } = data\n//   const data = cache.readQuery({ query: queryToUpdate });\n//   // selects all the other regions leaving out the deleted one\n//   regions = regions.filter(region => region.id !== deleteRegion.id);\n//   //  3. write the new data back to the cache\n//   console.log(\"getting payload\");\n//   console.log(payload);\n//   cache.writeQuery({ query: queryToUpdate, data });\n// };\n\n\nvar updateCache = function updateCache(cache, payload) {\n  // manually update the cache so that the data are all the same\n  // 1. read the cache for the data we want\n  var data = cache.readQuery({\n    query: getAllRegionsQuery\n  }); // the deletedselect all the other regions except the deleted one from the cache\n\n  data.regions = data.regions.filter(function (region) {\n    return region.id !== payload.data.deleteRegion.id;\n  }); //  3. write the new data back to the cache\n\n  console.log(\"getting payload\");\n  console.log(payload);\n  cache.writeQuery({\n    query: getAllRegionsQuery,\n    data: data\n  });\n};\n\nexport { candExamSessionCode, roundFloatNumber, calcCandTotalScore, calcCandTotalCoeff, calcCandAve, objectFromCode, uniqueCodeGen, getSelectedObject, getObjectFromID, removeTypename, uploadFile, getSpecialtyID, centerExamSessionObjectFromCode };","map":{"version":3,"sources":["E:/sygefexMui/sygefexMui-frontend/src/components/queries&Mutations&Functions/Functions.jsx"],"names":["React","concat","uniqueCodeGen","keyLength","i","key","characters","charactersLength","length","substr","Math","floor","random","objectFromCode","codeValue","storedObject","candCode","getObjectFromID","suppliedID","theObject","id","centerExamSessionObjectFromCode","centerExamSession","candExamSessionCode","candID","examID","sessionID","getSelectedObject","dataSource","objectID","tempObjects","selectedObject","find","item","getSpecialtyID","CESSID","specialty","getRegisteredCandidatesPerSpecialty","Number","prototype","pad","size","s","String","calcCandAve","candScores","aveTotal","reduce","tally","subjectAve","coeff","coeffTotal","candAve","calcCandTotalScore","calcCandTotalCoeff","roundFloatNumber","value","decimals","round","removeTypename","undefined","Array","isArray","map","v","newObj","Object","entries","forEach","uploadFile","e","files","target","data","FormData","append","fetch","method","body","res","json","file","console","log","setState","image","secure_url","updateCache","cache","payload","readQuery","query","getAllRegionsQuery","regions","filter","region","deleteRegion","writeQuery"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,aAAvB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD,EAAe;AACnC,MAAIC,CAAJ;AAAA,MACEC,GAAG,GAAG,EADR;AAAA,MAEE;AACAC,EAAAA,UAAU,GACR,qEAJJ;AAMA,MAAIC,gBAAgB,GAAGD,UAAU,CAACE,MAAlC;;AAEA,OAAKJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,SAAhB,EAA2BC,CAAC,EAA5B,EAAgC;AAC9BC,IAAAA,GAAG,IAAIC,UAAU,CAACG,MAAX,CACLC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,gBAAhB,GAAmC,CAA9C,CADK,EAEL,CAFK,CAAP;AAID;;AAED,SAAOF,GAAP;AACD,CAjBD;;AAmBA,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAe;AACpC,MAAMC,YAAY,GAAG;AACnBC,IAAAA,QAAQ,YAAKF,SAAL;AADW,GAArB;AAGA,SAAOC,YAAP;AACD,CALD;;AAOA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAACC,UAAD,EAAgB;AACtC,MAAMC,SAAS,GAAG;AAChBC,IAAAA,EAAE,YAAKF,UAAL;AADc,GAAlB;AAGA,SAAOC,SAAP;AACD,CALD;;AAOA,IAAME,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACP,SAAD,EAAe;AACrD,MAAMC,YAAY,GAAG;AACnBO,IAAAA,iBAAiB,YAAKR,SAAL;AADE,GAArB;AAGA,SAAOC,YAAP;AACD,CALD;;AAOA,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,MAAD,EAASC,MAAT,EAAiBC,SAAjB,EAA+B;AACzD,mBAAUF,MAAM,GAAGC,MAAT,GAAkBC,SAA5B;AACD,CAFD;;AAIA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,UAAD,EAAaC,QAAb,EAA0B;AAClD;AACA,MAAID,UAAU,CAACpB,MAAX,GAAoB,CAAxB,EAA2B;AACzB,QAAMsB,WAAW,sBAAOF,UAAP,CAAjB,CADyB,CAEzB;;;AACA,QAAMG,cAAc,GAAGD,WAAW,CAACE,IAAZ,CAAiB,UAACC,IAAD;AAAA,aAAUA,IAAI,CAACb,EAAL,KAAYS,QAAtB;AAAA,KAAjB,CAAvB;AACA,WAAOE,cAAP;AACD;AACF,CARD;;AAUA,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACN,UAAD,EAAaO,MAAb,EAAwB;AAC7C;AACA,MAAIP,UAAJ,EAAgB;AACd,QAAME,WAAW,sBAAOF,UAAP,CAAjB,CADc,CAEd;;;AACA,QAAMG,cAAc,GAAGD,WAAW,CAACE,IAAZ,CAAiB,UAACC,IAAD;AAAA,aAAUA,IAAI,CAACb,EAAL,KAAYe,MAAtB;AAAA,KAAjB,CAAvB;;AAHc,4CAIaJ,cAJb;AAAA,QAINK,SAJM,mBAINA,SAJM;;AAKd,WAAOA,SAAP;AACD;AACF,CATD;;AAWA,IAAMC,mCAAmC,GAAG,SAAtCA,mCAAsC,CAACT,UAAD,EAAaO,MAAb,EAAwB;AAClE;AACA,MAAIP,UAAJ,EAAgB;AACd,QAAME,WAAW,sBAAOF,UAAP,CAAjB,CADc,CAEd;;;AACA,QAAMG,cAAc,GAAGD,WAAW,CAACE,IAAZ,CAAiB,UAACC,IAAD;AAAA,aAAUA,IAAI,CAACb,EAAL,KAAYe,MAAtB;AAAA,KAAjB,CAAvB;;AAHc,6CAIaJ,cAJb;AAAA,QAINK,SAJM,oBAINA,SAJM;;AAMd,WAAOA,SAAP;AACD;AACF,CAVD,C,CAWA;;;AACAE,MAAM,CAACC,SAAP,CAAiBC,GAAjB,GAAuB,UAAUC,IAAV,EAAgB;AACrC,MAAIC,CAAC,GAAGC,MAAM,CAAC,IAAD,CAAd;;AACA,SAAOD,CAAC,CAAClC,MAAF,IAAYiC,IAAI,IAAI,CAApB,CAAP,EAA+B;AAC7BC,IAAAA,CAAC,GAAG,MAAMA,CAAV;AACD;;AACD,SAAOA,CAAP;AACD,CAND;;AAQA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAgB;AAClC,MAAMC,QAAQ,GACZD,UAAU,IACVA,UAAU,CAACE,MAAX,CAAkB,UAACC,KAAD,EAAQf,IAAR;AAAA,WAAiBe,KAAK,GAAGf,IAAI,CAACgB,UAAL,GAAkBhB,IAAI,CAACiB,KAAhD;AAAA,GAAlB,EAAyE,CAAzE,CAFF;AAGA,MAAMC,UAAU,GAAGN,UAAU,CAACE,MAAX,CACjB,UAACC,KAAD,EAAQf,IAAR;AAAA,WAAkBA,IAAI,CAACgB,UAAL,KAAoB,IAApB,GAA2BD,KAA3B,GAAmCA,KAAK,GAAGf,IAAI,CAACiB,KAAlE;AAAA,GADiB,EAEjB,CAFiB,CAAnB;AAIA,MAAME,OAAO,GAAGN,QAAQ,GAAGK,UAA3B;AACA,SAAOC,OAAP;AACD,CAVD;;AAWA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACR,UAAD,EAAgB;AACzC,MAAMC,QAAQ,GACZD,UAAU,IACVA,UAAU,CAACE,MAAX,CAAkB,UAACC,KAAD,EAAQf,IAAR;AAAA,WAAiBe,KAAK,GAAGf,IAAI,CAACgB,UAAL,GAAkBhB,IAAI,CAACiB,KAAhD;AAAA,GAAlB,EAAyE,CAAzE,CAFF;AAGA,SAAOJ,QAAP;AACD,CALD;;AAMA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAACT,UAAD,EAAgB;AACzC,MAAMM,UAAU,GACdN,UAAU,IACVA,UAAU,CAACE,MAAX,CACE,UAACC,KAAD,EAAQf,IAAR;AAAA,WAAkBA,IAAI,CAACgB,UAAL,KAAoB,IAApB,GAA2BD,KAA3B,GAAmCA,KAAK,GAAGf,IAAI,CAACiB,KAAlE;AAAA,GADF,EAEE,CAFF,CAFF;AAMA,SAAOC,UAAP;AACD,CARD;;AASA,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC5C,SAAOnB,MAAM,CAAC5B,IAAI,CAACgD,KAAL,CAAWF,KAAK,GAAG,GAAR,GAAcC,QAAzB,IAAqC,IAArC,GAA4CA,QAA7C,CAAb;AACD,CAFD;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACH,KAAD,EAAW;AAChC,MAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKI,SAAhC,EAA2C;AACzC,WAAOJ,KAAP;AACD,GAFD,MAEO,IAAIK,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AAC/B,WAAOA,KAAK,CAACO,GAAN,CAAU,UAACC,CAAD;AAAA,aAAOL,cAAc,CAACK,CAAD,CAArB;AAAA,KAAV,CAAP;AACD,GAFM,MAEA,IAAI,OAAOR,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAMS,MAAM,GAAG,EAAf;AACAC,IAAAA,MAAM,CAACC,OAAP,CAAeX,KAAf,EAAsBY,OAAtB,CAA8B,gBAAc;AAAA;AAAA,UAAZ/D,GAAY;AAAA,UAAP2D,CAAO;;AAC1C,UAAI3D,GAAG,KAAK,YAAZ,EAA0B;AACxB4D,QAAAA,MAAM,CAAC5D,GAAD,CAAN,GAAcsD,cAAc,CAACK,CAAD,CAA5B;AACD;AACF,KAJD;AAKA,WAAOC,MAAP;AACD;;AACD,SAAOT,KAAP;AACD,CAfD;;AAiBA,IAAMa,UAAU;AAAA,uEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,YAAAA,KADW,GACHD,CAAC,CAACE,MAAF,CAASD,KADN;AAEXE,YAAAA,IAFW,GAEJ,IAAIC,QAAJ,EAFI;AAGjBD,YAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBJ,KAAK,CAAC,CAAD,CAAzB;AACAE,YAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,YAA7B;AAJiB;AAAA,mBAKCC,KAAK,CAAC,mDAAD,EAAsD;AAC3EC,cAAAA,MAAM,EAAE,MADmE;AAE3EC,cAAAA,IAAI,EAAEL;AAFqE,aAAtD,CALN;;AAAA;AAKXM,YAAAA,GALW;AAAA;AAAA,mBASEA,GAAG,CAACC,IAAJ,EATF;;AAAA;AASXC,YAAAA,IATW;AAUjBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAViB,CAWjB;;AACAG,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,KAAK,EAAEJ,IAAI,CAACK;AAAd,aAAD,CAAR;;AAZiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVjB,UAAU;AAAA;AAAA;AAAA,GAAhB,C,CAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMkB,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,OAAR,EAAoB;AACtC;AACA;AACA,MAAMhB,IAAI,GAAGe,KAAK,CAACE,SAAN,CAAgB;AAAEC,IAAAA,KAAK,EAAEC;AAAT,GAAhB,CAAb,CAHsC,CAItC;;AACAnB,EAAAA,IAAI,CAACoB,OAAL,GAAepB,IAAI,CAACoB,OAAL,CAAaC,MAAb,CACb,UAACC,MAAD;AAAA,WAAYA,MAAM,CAAC3E,EAAP,KAAcqE,OAAO,CAAChB,IAAR,CAAauB,YAAb,CAA0B5E,EAApD;AAAA,GADa,CAAf,CALsC,CAQtC;;AACA8D,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AACAD,EAAAA,KAAK,CAACS,UAAN,CAAiB;AAAEN,IAAAA,KAAK,EAAEC,kBAAT;AAA6BnB,IAAAA,IAAI,EAAJA;AAA7B,GAAjB;AACD,CAZD;;AAaA,SACElD,mBADF,EAEEgC,gBAFF,EAGEF,kBAHF,EAIEC,kBAJF,EAKEV,WALF,EAME/B,cANF,EAOEX,aAPF,EAQEyB,iBARF,EASEV,eATF,EAUE0C,cAVF,EAWEU,UAXF,EAYEnC,cAZF,EAaEb,+BAbF","sourcesContent":["import React from \"react\";\r\nimport { concat } from \"apollo-link\";\r\n\r\nconst uniqueCodeGen = (keyLength) => {\r\n  var i,\r\n    key = \"\",\r\n    //  characters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    characters =\r\n      \"abcdefghijklmnopqrstuvwxyzABCDEF@#$%&GHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n\r\n  var charactersLength = characters.length;\r\n\r\n  for (i = 0; i < keyLength; i++) {\r\n    key += characters.substr(\r\n      Math.floor(Math.random() * charactersLength + 1),\r\n      1\r\n    );\r\n  }\r\n\r\n  return key;\r\n};\r\n\r\nconst objectFromCode = (codeValue) => {\r\n  const storedObject = {\r\n    candCode: `${codeValue}`,\r\n  };\r\n  return storedObject;\r\n};\r\n\r\nconst getObjectFromID = (suppliedID) => {\r\n  const theObject = {\r\n    id: `${suppliedID}`,\r\n  };\r\n  return theObject;\r\n};\r\n\r\nconst centerExamSessionObjectFromCode = (codeValue) => {\r\n  const storedObject = {\r\n    centerExamSession: `${codeValue}`,\r\n  };\r\n  return storedObject;\r\n};\r\n\r\nconst candExamSessionCode = (candID, examID, sessionID) => {\r\n  return `${candID + examID + sessionID}`;\r\n};\r\n\r\nconst getSelectedObject = (dataSource, objectID) => {\r\n  // 1 copy the data source\r\n  if (dataSource.length > 0) {\r\n    const tempObjects = [...dataSource];\r\n    // get the object\r\n    const selectedObject = tempObjects.find((item) => item.id === objectID);\r\n    return selectedObject;\r\n  }\r\n};\r\n\r\nconst getSpecialtyID = (dataSource, CESSID) => {\r\n  // 1 copy the data source\r\n  if (dataSource) {\r\n    const tempObjects = [...dataSource];\r\n    // get the object\r\n    const selectedObject = tempObjects.find((item) => item.id === CESSID);\r\n    const { specialty } = { ...selectedObject };\r\n    return specialty;\r\n  }\r\n};\r\n\r\nconst getRegisteredCandidatesPerSpecialty = (dataSource, CESSID) => {\r\n  // 1 copy the data source\r\n  if (dataSource) {\r\n    const tempObjects = [...dataSource];\r\n    // get the object\r\n    const selectedObject = tempObjects.find((item) => item.id === CESSID);\r\n    const { specialty } = { ...selectedObject };\r\n    \r\n    return specialty;\r\n  }\r\n};\r\n// function to model a number with leading zeroes\r\nNumber.prototype.pad = function (size) {\r\n  var s = String(this);\r\n  while (s.length < (size || 2)) {\r\n    s = \"0\" + s;\r\n  }\r\n  return s;\r\n};\r\n\r\nconst calcCandAve = (candScores) => {\r\n  const aveTotal =\r\n    candScores &&\r\n    candScores.reduce((tally, item) => tally + item.subjectAve * item.coeff, 0);\r\n  const coeffTotal = candScores.reduce(\r\n    (tally, item) => (item.subjectAve === null ? tally : tally + item.coeff),\r\n    0\r\n  );\r\n  const candAve = aveTotal / coeffTotal;\r\n  return candAve;\r\n};\r\nconst calcCandTotalScore = (candScores) => {\r\n  const aveTotal =\r\n    candScores &&\r\n    candScores.reduce((tally, item) => tally + item.subjectAve * item.coeff, 0);\r\n  return aveTotal;\r\n};\r\nconst calcCandTotalCoeff = (candScores) => {\r\n  const coeffTotal =\r\n    candScores &&\r\n    candScores.reduce(\r\n      (tally, item) => (item.subjectAve === null ? tally : tally + item.coeff),\r\n      0\r\n    );\r\n  return coeffTotal;\r\n};\r\nconst roundFloatNumber = (value, decimals) => {\r\n  return Number(Math.round(value + \"e\" + decimals) + \"e-\" + decimals);\r\n};\r\nconst removeTypename = (value) => {\r\n  if (value === null || value === undefined) {\r\n    return value;\r\n  } else if (Array.isArray(value)) {\r\n    return value.map((v) => removeTypename(v));\r\n  } else if (typeof value === \"object\") {\r\n    const newObj = {};\r\n    Object.entries(value).forEach(([key, v]) => {\r\n      if (key !== \"__typename\") {\r\n        newObj[key] = removeTypename(v);\r\n      }\r\n    });\r\n    return newObj;\r\n  }\r\n  return value;\r\n};\r\n\r\nconst uploadFile = async (e) => {\r\n  const files = e.target.files;\r\n  const data = new FormData();\r\n  data.append(\"file\", files[0]);\r\n  data.append(\"upload_preset\", \"ineximages\");\r\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/inex/image/upload\", {\r\n    method: \"POST\",\r\n    body: data,\r\n  });\r\n  const file = await res.json();\r\n  console.log(file);\r\n  // this.setState({ image: file.secure_url });\r\n  setState({ image: file.secure_url });\r\n};\r\n\r\n// const updateCacheForDelete = (cache, { data }, queryToUpdate) => {\r\n//   // manually update the cache so that the data are all the same\r\n//   // 1. read the cache for the data we want\r\n//   const { regions, deleteRegion } = data\r\n//   const data = cache.readQuery({ query: queryToUpdate });\r\n//   // selects all the other regions leaving out the deleted one\r\n//   regions = regions.filter(region => region.id !== deleteRegion.id);\r\n//   //  3. write the new data back to the cache\r\n//   console.log(\"getting payload\");\r\n//   console.log(payload);\r\n//   cache.writeQuery({ query: queryToUpdate, data });\r\n// };\r\n\r\nconst updateCache = (cache, payload) => {\r\n  // manually update the cache so that the data are all the same\r\n  // 1. read the cache for the data we want\r\n  const data = cache.readQuery({ query: getAllRegionsQuery });\r\n  // the deletedselect all the other regions except the deleted one from the cache\r\n  data.regions = data.regions.filter(\r\n    (region) => region.id !== payload.data.deleteRegion.id\r\n  );\r\n  //  3. write the new data back to the cache\r\n  console.log(\"getting payload\");\r\n  console.log(payload);\r\n  cache.writeQuery({ query: getAllRegionsQuery, data });\r\n};\r\nexport {\r\n  candExamSessionCode,\r\n  roundFloatNumber,\r\n  calcCandTotalScore,\r\n  calcCandTotalCoeff,\r\n  calcCandAve,\r\n  objectFromCode,\r\n  uniqueCodeGen,\r\n  getSelectedObject,\r\n  getObjectFromID,\r\n  removeTypename,\r\n  uploadFile,\r\n  getSpecialtyID,\r\n  centerExamSessionObjectFromCode,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}